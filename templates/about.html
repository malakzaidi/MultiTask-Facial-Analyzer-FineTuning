{% extends "layout.html" %}

{% block title %}À propos - CelebA Detector{% endblock %}

{% block extra_css %}
<style>
    .tech-icon {
        padding: 1.5rem;
        background: white;
        border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
        height: 100%;
    }

    .tech-icon:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0,0,0,0.15);
    }

    .performance-card {
        padding: 1.5rem;
        background: white;
        border-radius: 15px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .attribute-icon-bg {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
    }

    .attribute-icon-bg.male { background: rgba(67, 97, 238, 0.1); }
    .attribute-icon-bg.smiling { background: rgba(248, 150, 30, 0.1); }
    .attribute-icon-bg.young { background: rgba(76, 201, 240, 0.1); }
    .attribute-icon-bg.glasses { background: rgba(23, 162, 184, 0.1); }
    .attribute-icon-bg.hat { background: rgba(108, 117, 125, 0.1); }
    .attribute-icon-bg.bald { background: rgba(52, 58, 64, 0.1); }
    .attribute-icon-bg.mustache { background: rgba(247, 37, 133, 0.1); }
    .attribute-icon-bg.lipstick { background: rgba(247, 37, 133, 0.1); }
</style>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-10 mx-auto">
        <!-- En-tête -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold text-primary mb-3">
                <i class="fas fa-info-circle me-2"></i>À propos du projet
            </h1>
            <p class="lead text-muted">
                Découvrez comment fonctionne notre système de détection d'attributs faciaux
            </p>
        </div>

        <!-- Architecture -->
        <div class="card shadow-lg mb-5 border-0">
            <div class="card-header bg-primary text-white py-3">
                <h4 class="mb-0"><i class="fas fa-project-diagram me-2"></i>Architecture du modèle</h4>
            </div>
            <div class="card-body p-4">
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <h5 class="fw-bold mb-3">Modèle EfficientNet-B0 Multi-Tâches</h5>
                        <p class="text-muted">Notre système utilise une architecture de deep learning avancée :</p>
                        <ul class="list-group list-group-flush mb-4">
                            <li class="list-group-item d-flex align-items-center">
                                <i class="fas fa-microchip text-primary me-3"></i>
                                <div>
                                    <strong>Backbone:</strong> EfficientNet-B0 (pré-entraîné sur ImageNet)
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="fas fa-tasks text-success me-3"></i>
                                <div>
                                    <strong>Approche:</strong> Apprentissage multi-tâches
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="fas fa-list-check text-info me-3"></i>
                                <div>
                                    <strong>Tâches:</strong> 8 attributs faciaux simultanés
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="fas fa-image text-warning me-3"></i>
                                <div>
                                    <strong>Input:</strong> Images 224x224 pixels
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <i class="fas fa-brain text-danger me-3"></i>
                                <div>
                                    <strong>Framework:</strong> PyTorch 2.0
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-6 text-center">
                        <div class="position-relative">
                            <img src="https://via.placeholder.com/500x350/4361ee/ffffff?text=Architecture+Diagram"
                                 class="img-fluid rounded shadow-lg"
                                 alt="Architecture du modèle">
                            <div class="mt-3 p-3 bg-light rounded">
                                <p class="small text-muted mb-0">
                                    <i class="fas fa-lightbulb me-1"></i>
                                    Le modèle partage les features de base entre toutes les tâches
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performances -->
        <div class="card shadow-lg mb-5 border-0">
            <div class="card-header bg-success text-white py-3">
                <h4 class="mb-0"><i class="fas fa-chart-line me-2"></i>Performances</h4>
            </div>
            <div class="card-body p-4">
                <!-- Statistiques principales -->
                <div class="row g-4 mb-5">
                    <div class="col-md-4">
                        <div class="performance-card text-center">
                            <div class="display-3 fw-bold text-success mb-2">94.5%</div>
                            <div class="text-muted">Accuracy globale</div>
                            <div class="small mt-2">
                                <i class="fas fa-star text-warning me-1"></i>
                                Score moyen sur 8 attributs
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="performance-card text-center">
                            <div class="display-3 fw-bold text-primary mb-2">0.997</div>
                            <div class="text-muted">Meilleur AUC</div>
                            <div class="small mt-2">
                                <i class="fas fa-glasses text-info me-1"></i>
                                Attribut: Lunettes
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="performance-card text-center">
                            <div class="display-3 fw-bold text-warning mb-2">0.132</div>
                            <div class="text-muted">BCE Loss</div>
                            <div class="small mt-2">
                                <i class="fas fa-chart-bar text-danger me-1"></i>
                                Sur l'ensemble de test
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tableau de performance détaillé -->
                <h5 class="fw-bold mb-4">Détail par attribut :</h5>
                <div class="table-responsive">
                    <table class="table table-hover table-striped align-middle">
                        <thead class="table-dark">
                            <tr>
                                <th style="width: 25%">Attribut</th>
                                <th class="text-center">Accuracy</th>
                                <th class="text-center">F1-Score</th>
                                <th class="text-center">AUC</th>
                                <th class="text-center">Précision</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg male">
                                            <i class="fas fa-male text-primary"></i>
                                        </div>
                                        <div>
                                            <strong>Male</strong><br>
                                            <small class="text-muted">Genre masculin</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">96.5%</td>
                                <td class="text-center">95.9%</td>
                                <td class="text-center">0.996</td>
                                <td class="text-center">94.4%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg smiling">
                                            <i class="fas fa-smile text-warning"></i>
                                        </div>
                                        <div>
                                            <strong>Smiling</strong><br>
                                            <small class="text-muted">Sourire visible</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">88.5%</td>
                                <td class="text-center">86.9%</td>
                                <td class="text-center">0.972</td>
                                <td class="text-center">98.3%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg young">
                                            <i class="fas fa-child text-success"></i>
                                        </div>
                                        <div>
                                            <strong>Young</strong><br>
                                            <small class="text-muted">Personne jeune</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">86.9%</td>
                                <td class="text-center">91.6%</td>
                                <td class="text-center">0.911</td>
                                <td class="text-center">90.3%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg glasses">
                                            <i class="fas fa-glasses text-info"></i>
                                        </div>
                                        <div>
                                            <strong>Eyeglasses</strong><br>
                                            <small class="text-muted">Port de lunettes</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">99.4%</td>
                                <td class="text-center">95.5%</td>
                                <td class="text-center">0.998</td>
                                <td class="text-center">95.2%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg hat">
                                            <i class="fas fa-hat-cowboy text-secondary"></i>
                                        </div>
                                        <div>
                                            <strong>Wearing Hat</strong><br>
                                            <small class="text-muted">Port d'un chapeau</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">99.0%</td>
                                <td class="text-center">89.7%</td>
                                <td class="text-center">0.994</td>
                                <td class="text-center">90.0%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg bald">
                                            <i class="fas fa-head-side-bald text-dark"></i>
                                        </div>
                                        <div>
                                            <strong>Bald</strong><br>
                                            <small class="text-muted">Calvitie</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">98.9%</td>
                                <td class="text-center">77.9%</td>
                                <td class="text-center">0.995</td>
                                <td class="text-center">76.9%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg mustache">
                                            <i class="fas fa-user-secret text-danger"></i>
                                        </div>
                                        <div>
                                            <strong>Mustache</strong><br>
                                            <small class="text-muted">Moustache</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">96.0%</td>
                                <td class="text-center">29.7%</td>
                                <td class="text-center">0.953</td>
                                <td class="text-center">48.2%</td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="attribute-icon-bg lipstick">
                                            <i class="fas fa-kiss-wink-heart text-danger"></i>
                                        </div>
                                        <div>
                                            <strong>Wearing Lipstick</strong><br>
                                            <small class="text-muted">Port de rouge à lèvres</small>
                                        </div>
                                    </div>
                                </td>
                                <td class="text-center fw-bold">91.0%</td>
                                <td class="text-center">90.3%</td>
                                <td class="text-center">0.978</td>
                                <td class="text-center">92.2%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Dataset -->
        <div class="card shadow-lg mb-5 border-0">
            <div class="card-header bg-warning text-dark py-3">
                <h4 class="mb-0"><i class="fas fa-database me-2"></i>Dataset CelebA</h4>
            </div>
            <div class="card-body p-4">
                <div class="row align-items-center">
                    <div class="col-lg-7 mb-4 mb-lg-0">
                        <h5 class="fw-bold mb-3">Caractéristiques du dataset :</h5>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="d-flex align-items-start mb-3">
                                    <i class="fas fa-images text-primary fa-lg mt-1 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">202,599 images</h6>
                                        <p class="text-muted small mb-0">De célébrités diverses</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-start mb-3">
                                    <i class="fas fa-tags text-success fa-lg mt-1 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">40 attributs</h6>
                                        <p class="text-muted small mb-0">Annotations binaires</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex align-items-start mb-3">
                                    <i class="fas fa-crop text-info fa-lg mt-1 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Images alignées</h6>
                                        <p class="text-muted small mb-0">Recadrées et normalisées</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-start mb-3">
                                    <i class="fas fa-users text-warning fa-lg mt-1 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Diversité</h6>
                                        <p class="text-muted small mb-0">Âge, genre, ethnicité</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-light rounded">
                            <p class="mb-0">
                                <i class="fas fa-lightbulb me-2 text-warning"></i>
                                Notre modèle a été entraîné sur 8 attributs sélectionnés pour leur pertinence pratique.
                            </p>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <h5 class="fw-bold mb-3">Répartition des données :</h5>
                        <div class="progress-stacked mb-3" style="height: 40px;">
                            <div class="progress" role="progressbar" style="width: 70%; height: 40px;"
                                 aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar bg-success d-flex align-items-center justify-content-center fw-bold">
                                    <i class="fas fa-graduation-cap me-2"></i>Entraînement (70%)
                                </div>
                            </div>
                            <div class="progress" role="progressbar" style="width: 15%; height: 40px;"
                                 aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar bg-info d-flex align-items-center justify-content-center fw-bold">
                                    <i class="fas fa-chart-line me-2"></i>Validation (15%)
                                </div>
                            </div>
                            <div class="progress" role="progressbar" style="width: 15%; height: 40px;"
                                 aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar bg-warning d-flex align-items-center justify-content-center fw-bold">
                                    <i class="fas fa-vial me-2"></i>Test (15%)
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="display-6 fw-bold text-dark mb-1">30,390</div>
                            <p class="text-muted mb-0">
                                <i class="fas fa-vial text-warning me-1"></i>
                                Images utilisées pour le test
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technologies -->
        <div class="card shadow-lg border-0">
            <div class="card-header bg-dark text-white py-3">
                <h4 class="mb-0"><i class="fas fa-cogs me-2"></i>Technologies utilisées</h4>
            </div>
            <div class="card-body p-4">
                <div class="row g-4">
                    <div class="col-lg-3 col-md-6">
                        <div class="tech-icon">
                            <div class="tech-icon-inner text-center">
                                <i class="fab fa-python fa-4x text-primary mb-3"></i>
                                <h5 class="fw-bold">Python 3.9</h5>
                                <p class="text-muted small mb-0">Langage principal avec bibliothèques scientifiques</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="tech-icon">
                            <div class="tech-icon-inner text-center">
                                <i class="fas fa-brain fa-4x text-success mb-3"></i>
                                <h5 class="fw-bold">PyTorch</h5>
                                <p class="text-muted small mb-0">Framework de Deep Learning</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="tech-icon">
                            <div class="tech-icon-inner text-center">
                                <i class="fas fa-flask fa-4x text-warning mb-3"></i>
                                <h5 class="fw-bold">Flask</h5>
                                <p class="text-muted small mb-0">Framework web léger</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="tech-icon">
                            <div class="tech-icon-inner text-center">
                                <i class="fas fa-paint-brush fa-4x text-danger mb-3"></i>
                                <h5 class="fw-bold">Bootstrap 5</h5>
                                <p class="text-muted small mb-0">Framework CSS responsive</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}